<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>ODSD Singlish → Sinhala Unicode — ODS Converter</title>

  <!-- Tailwind (cdn) -->
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- tiny preflight & fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">

  <meta name="description" content="KDJ Singlish to Sinhala Unicode converter — instant, offline, and production-ready UI.">

  <style>
    :root { --accent: #ef4444; --accent-2: #f97316; }
    html,body { height:100%; }
    body { font-family: "Poppins", system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial; }
    /* small glow used after conversion */
    .glow {
      box-shadow: 0 6px 30px rgba(239,68,68,0.18), 0 0 0 4px rgba(239,68,68,0.05);
      transform: translateY(-3px);
    }
    /* smooth transition for elements */
    .smooth { transition: all .18s cubic-bezier(.2,.9,.2,1); }
    /* custom scrollbar for history panel */
    .scrollbar-thin::-webkit-scrollbar { height:8px; width:8px; }
    .scrollbar-thin::-webkit-scrollbar-thumb { background: rgba(255,255,255,0.08); border-radius: 999px; }
  </style>
</head>
<body class="min-h-screen bg-gray-50 dark:bg-gray-900 text-gray-900 dark:text-gray-100">

  <div class="max-w-6xl mx-auto p-6">

    <!-- Top bar -->
    <header class="flex items-center justify-between gap-4 mb-6">
      <div class="flex items-center gap-3">
        <div class="w-12 h-12 rounded-lg bg-gradient-to-br from-red-500 to-orange-400 flex items-center justify-center text-white text-lg font-bold shadow-lg">ODS</div>
        <div>
          <h1 class="text-2xl md:text-3xl font-semibold">ODSD Singlish → Sinhala Unicode</h1>
          <p class="text-sm text-gray-600 dark:text-gray-300">Instant offline converter — advanced UI for production use.</p>
        </div>
      </div>

      <div class="flex items-center gap-3">
        <button id="history-toggle" title="Show history (Ctrl/Cmd + H)"
          class="px-3 py-2 rounded-lg bg-white dark:bg-neutral-800 border border-gray-200 dark:border-gray-700 shadow-sm hover:scale-105 smooth">
          <!-- History icon -->
          <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-gray-800 dark:text-gray-100" viewBox="0 0 20 20" fill="currentColor">
            <path d="M8 7a.75.75 0 011.5 0v3.25H11a.75.75 0 010 1.5H8a.75.75 0 01-.75-.75V7z" />
            <path d="M10 18a8 8 0 100-16 8 8 0 000 16zm0 1.5A9.5 9.5 0 1010-...z" />
          </svg>
        </button>

        <button id="theme-toggle" title="Toggle theme"
          class="px-3 py-2 rounded-lg bg-white dark:bg-neutral-800 border border-gray-200 dark:border-gray-700 shadow-sm hover:scale-105 smooth">
          <!-- Theme icon -->
          <svg id="theme-icon" xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-gray-800 dark:text-gray-100" viewBox="0 0 24 24" fill="none" stroke="currentColor">
            <path id="theme-path" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.75"
                  d="M12 3v1M12 20v1M4.2 4.2l.7.7M19.1 19.1l.7.7M1 12h1M22 12h1M4.2 19.8l.7-.7M19.1 4.9l.7-.7M12 7a5 5 0 100 10 5 5 0 000-10z" />
          </svg>
        </button>

        <button id="settings-open" title="Settings"
          class="px-3 py-2 rounded-lg bg-white dark:bg-neutral-800 border border-gray-200 dark:border-gray-700 shadow-sm hover:scale-105 smooth">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-gray-800 dark:text-gray-100" viewBox="0 0 20 20" fill="currentColor">
            <path d="M11.3 1.046a1 1 0 00-2.6 0l-.2.76A1 1 0 017.7 3.05l-.74.18a1 1 0 00-.6 1.5l.46.62a1 1 0 01-.01 1.08l-.5.75a1 1 0 00.33 1.37l.86.5a1 1 0 01.4 1.2l-.16.77a1 1 0 001.26 1.13l.74-.18a1 1 0 01.98.25l.5.5a1 1 0 001.5-.6l.18-.74a1 1 0 011.2-.4l.86.5a1 1 0 001.37-.33l.5-.75a1 1 0 011.08-.01l.62.46a1 1 0 001.5-.6l.18-.74a1 1 0 00-.25-.98l-.5-.5a1 1 0 01-.25-.98l.18-.74a1 1 0 00-1.13-1.26l-.77.16a1 1 0 01-1.2-.4l-.5-.5a1 1 0 00-1.5.6l-.18.74a1 1 0 01-1.2.4l-.86-.5a1 1 0 00-1.37.33l-.5.75a1 1 0 01-1.08.01l-.62-.46a1 1 0 00-1.5.6l-.18.74a1 1 0 00.25.98l.5.5a1 1 0 01.25.98l-.18.74a1 1 0 001.13 1.26l.77-.16a1 1 0 011.2.4l.5.5a1 1 0 00.6 1.5l.74.18a1 1 0 001.26-1.13l-.16-.77a1 1 0 01.4-1.2l.86-.5a1 1 0 00.33-1.37l-.5-.75a1 1 0 01.01-1.08l.46-.62a1 1 0 00-.6-1.5l-.74-.18a1 1 0 01-.76-.92l-.2-.76z"/>
          </svg>
        </button>
      </div>
    </header>

    <!-- Main grid -->
    <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">

      <!-- Left: Input + controls -->
      <section class="lg:col-span-2 space-y-4">
        <div class="bg-white dark:bg-neutral-800 border border-gray-200 dark:border-gray-700 rounded-2xl p-4 shadow-sm">
          <div class="flex items-start gap-3">
            <div class="flex-1">
              <label for="input" class="text-sm font-medium text-gray-700 dark:text-gray-200">Singlish input (ODSD)</label>
              <textarea id="input" rows="8" placeholder="Type Singlish (KDJ) here — auto-convert enabled"
                class="w-full mt-2 p-3 rounded-xl bg-gray-50 dark:bg-neutral-900 border border-gray-200 dark:border-gray-700 focus:outline-none focus:ring-2 focus:ring-red-400 smooth resize-none"></textarea>

              <div class="mt-3 flex flex-wrap gap-2">
                <button id="paste-btn" class="px-3 py-2 rounded-lg bg-white dark:bg-neutral-700 border hover:bg-gray-100 dark:hover:bg-neutral-700 smooth">Paste</button>
                <button id="undo-btn" class="px-3 py-2 rounded-lg bg-white dark:bg-neutral-700 border hover:bg-gray-100 dark:hover:bg-neutral-700 smooth">Undo</button>
                <button id="clear-btn" class="px-3 py-2 rounded-lg bg-red-600 text-white hover:bg-red-500 smooth">Clear</button>

                <div class="ml-auto flex items-center gap-2">
                  <label class="text-sm text-gray-600 dark:text-gray-300">Auto-convert</label>
                  <input id="auto-toggle" type="checkbox" class="h-4 w-4 rounded" checked>
                </div>
              </div>
            </div>

            <!-- Voice + status -->
            <div class="w-32">
              <div class="bg-red-50 dark:bg-red-900/20 p-3 rounded-xl text-center">
                <button id="voice-btn" class="w-full py-2 rounded-lg bg-red-600 text-white smooth">Voice</button>
                <p id="voice-status" class="mt-2 text-xs text-gray-600 dark:text-gray-300">Idle</p>
              </div>

              <div class="mt-4 text-xs text-gray-500 dark:text-gray-400">
                <strong>Shortcuts</strong>
                <ul class="mt-2 list-disc ml-4">
                  <li>Ctrl/Cmd + Enter → Copy</li>
                  <li>Ctrl/Cmd + L → Clear</li>
                  <li>Ctrl/Cmd + H → History</li>
                </ul>
              </div>
            </div>
          </div>
        </div>

        <!-- Output card -->
        <div id="output-card" class="bg-white dark:bg-neutral-800 border border-gray-200 dark:border-gray-700 rounded-2xl p-4 shadow-sm smooth">
          <div class="flex items-start gap-3">
            <div class="flex-1">
              <label class="text-sm font-medium text-gray-700 dark:text-gray-200">Sinhala Unicode output</label>
              <div id="output" class="mt-2 min-h-[120px] p-3 rounded-xl bg-gray-50 dark:bg-neutral-900 border border-dashed border-gray-200 dark:border-gray-700 text-lg leading-relaxed"></div>
            </div>

            <div class="w-40 flex flex-col gap-2">
              <button id="copy-btn" class="px-3 py-2 rounded-lg bg-gray-900/90 text-white hover:opacity-95 smooth">Copy</button>
              <button id="download-btn" class="px-3 py-2 rounded-lg bg-white dark:bg-neutral-700 border smooth">Download .txt</button>
              <button id="settings-quick" class="px-3 py-2 rounded-lg bg-white dark:bg-neutral-700 border smooth">Settings</button>
            </div>
          </div>
        </div>
      </section>

      <!-- Right: History & Search -->
      <aside class="space-y-4">
        <div class="bg-white dark:bg-neutral-800 border border-gray-200 dark:border-gray-700 rounded-2xl p-4 shadow-sm">
          <div class="flex items-center justify-between">
            <h3 class="font-medium text-gray-800 dark:text-gray-100">History</h3>
            <button id="clear-history" class="text-sm text-gray-500 dark:text-gray-300 hover:underline">Clear</button>
          </div>

          <input id="history-search" placeholder="Search history..." class="w-full mt-3 p-2 rounded-lg bg-gray-50 dark:bg-neutral-900 border border-gray-200 dark:border-gray-700 text-sm" />

          <div id="history-list" class="mt-3 max-h-64 overflow-auto scrollbar-thin space-y-2"></div>
        </div>

        <div class="bg-white dark:bg-neutral-800 border border-gray-200 dark:border-gray-700 rounded-2xl p-4 shadow-sm text-sm">
          <h4 class="font-medium mb-2">About</h4>
          <p class="text-gray-600 dark:text-gray-300">Uses ODSD/UCO mapping for Singlish → Sinhala Unicode. All work is performed in the browser — no server required.</p>
        </div>
      </aside>
    </div>

  </div>

  <!-- Settings Modal -->
  <div id="settings-modal" class="fixed inset-0 bg-black/40 hidden items-center justify-center p-4">
    <div class="bg-white dark:bg-neutral-800 rounded-2xl p-6 w-full max-w-md border border-gray-200 dark:border-gray-700">
      <h3 class="text-lg font-semibold mb-3">Settings</h3>

      <label class="flex items-center justify-between gap-4 mt-2">
        <span>Auto-convert</span>
        <input id="modal-auto-toggle" type="checkbox">
      </label>

      <label class="mt-3 block">
        <span class="text-sm text-gray-600 dark:text-gray-300">Debounce (ms)</span>
        <input id="debounce-input" type="number" min="50" max="2000" value="300" class="w-full mt-2 p-2 rounded-lg border dark:bg-neutral-900">
      </label>

      <div class="mt-4 flex justify-end gap-2">
        <button id="settings-cancel" class="px-3 py-2 rounded-lg bg-white dark:bg-neutral-700 border">Cancel</button>
        <button id="settings-save" class="px-3 py-2 rounded-lg bg-red-600 text-white">Save</button>
      </div>
    </div>
  </div>

  <!-- Small toast -->
  <div id="toast" class="fixed right-6 bottom-6 bg-gray-900 text-white px-4 py-2 rounded-lg shadow-lg opacity-0 pointer-events-none transition-opacity"></div>

  <!-- Script -->
  <script src="script.js"></script>
</body>
</html>
